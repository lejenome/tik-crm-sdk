!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("@sentry/browser")):"function"==typeof define&&define.amd?define(["@sentry/browser"],t):"object"==typeof exports?exports.tikSDK=t(require("@sentry/browser")):e.tikSDK=t(e.Sentry)}(this,(function(e){return function(e){var t={};function s(a){if(t[a])return t[a].exports;var n=t[a]={i:a,l:!1,exports:{}};return e[a].call(n.exports,n,n.exports,s),n.l=!0,n.exports}return s.m=e,s.c=t,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(a,n,function(t){return e[t]}.bind(null,n));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s(s.s=20)}([function(e,t,s){var a,n,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,n=[t,s(8),s(23),s(1)],void 0===(i="function"==typeof(a=function(e,t,s,a){"use strict";function n(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return n=function(){return e},e}var i;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,t=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=n();if(t&&t.has(e))return t.get(e);var s={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var r=a?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(s,i,r):s[i]=e[i]}return s.default=e,t&&t.set(e,s),s}(t),s=(i=s)&&i.__esModule?i:{default:i},globalThis.tikSdkSession||(globalThis.tikSdkSession={authToken:null,instructorAuthToken:null});var r=class{constructor(){this.resource=null,this.model_name="",this.verbose_name="",this.verbose_name_plural="",this.view_perm="",this.add_perm="",this.change_perm="",this.delete_perm="",this.lookup_field="id",this.useCache={list:!1,get:!1},this.validateCache=!0}get base_domain(){return(0,a.base_domain)()}get base_url(){return(0,a.base_url)()}get session(){return globalThis.tikSdkSession}get_url(e){return e=e?`${this.resource}/${e}`:""+this.resource,`${this.base_url}${e}/`}configCache(e,t){this.useCache=e,this._cacheTimeout&&clearInterval(this._cacheTimeout),t&&(this.cacheTimeout=t,this._cacheTimeout=setInterval(()=>{this.validateCache=!0},this.cacheTimeout))}async http(e,a,n,i=!1){let r,o={},l=this.get_url(a);if(n&&"GET"===e)l+=s.default.stringify(n,!0),n=null;else if(n)if(Object.values(n).some(e=>e instanceof File||e instanceof Blob)){const e=new FormData;for(let[t,s]of Object.entries(n))null==s?s="":s instanceof Date?s=s.toISOString():Array.isArray(s)?s=JSON.stringify(s):s instanceof File||s instanceof Blob||(s=s instanceof Object?JSON.stringify(s):"boolean"==typeof s?s?"True":"False":s.toString()),e.append(t,s);n=e}else n=JSON.stringify(n),o={"Content-Type":"application/json; charset=utf-8"};else n=void 0;globalThis.extendedTracing?console.log("HTTP",e,l,n||""):console.log(e,a,n||"");try{if(this.session.authToken&&(o.Authorization="Bearer "+this.session.authToken),r=await globalThis.fetch(l,{method:e,headers:o,body:n,mode:"cors",cache:"no-cache",redirect:"follow",referrer:"no-referrer"}),!(r.ok||i&&[404,401].includes(r.status))){const e=new Error(r.statusText||r.status);throw e.response=r,e}if("DELETE"!==e)return await r.json()}catch(e){throw console.error("HTTP Error:",l.toString(),JSON.stringify(n),r&&r.status),"object"==typeof t&&"captureException"in t&&t.captureException(e),e}}toObj(e){return e}toString(e){return e.title?e.title:e.name?e.name:""}async list(){if(this.useCache.list&&!this.validateCache&&this.data)console.log(`[HTTP] ${this.resource}.list(): using cache`);else{const e=await this.http("GET","");this.data=e,this.validateCache=!1}return this.data}async get(e,t=!1){if(e){const s=await this.http("GET",e,null,t);return this.toObj(s)}return this.new()}async save(e,t,s=!1,a=!1,n=!1){if(this.validateCache=!0,!e[this.lookup_field]&&!t||s)return await this.http("POST","",e,n);{const s=await this.http(a?"PATCH":"PUT",t||e[this.lookup_field],e,n);return this.toObj(s)}}new(){return null}async delete(e){return this.validateCache=!0,this.http("DELETE",e)}};e.default=r})?a.apply(t,n):a)||(e.exports=i)},function(e,t,s){var a,n,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,n=[t,s(22)],void 0===(i="function"==typeof(a=function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setConfigValue=function(e,t){globalThis.tikSdkConfig[e]=t},e.setConfig=a,e.setConfigOrganization=function(e){a({API_BASE_URL:e.api_base_url,API_PREFIX:e.api_prefix,CACHE_PREFIX:e.cache_prefix})},e.base_domain=n,e.base_url=function(){return n()+globalThis.tikSdkConfig.API_PREFIX},e.saas_base_domain=i,e.saas_base_url=function(){return i()+globalThis.tikSdkConfig.API_PREFIX},e.default=void 0;const s={FETCH_MODE:"API_BASE_URL",API_BASE_URL:"",SAAS_API_BASE_URL:"",API_PREFIX:"/api/",CACHE_PREFIX:"",VERSION:t.version,PROTOCOL:"https"};function a(e){for(const t of Object.keys(s))t in e&&(globalThis.tikSdkConfig[t]=e[t])}function n(){return globalThis.tikSdkConfig.API_BASE_URL}function i(){return globalThis.tikSdkConfig.SAAS_API_BASE_URL}globalThis.tikSdkConfig||(globalThis.tikSdkConfig={}),function(){for(const e of Object.keys(s))e in globalThis.tikSdkConfig||(globalThis.tikSdkConfig[e]=s[e])}();var r=globalThis.tikSdkConfig;e.default=r})?a.apply(t,n):a)||(e.exports=i)},function(e,t,s){var a,n,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,n=[t,s(0)],void 0===(i="function"==typeof(a=function(e,t){"use strict";var s;Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.UsersApi=void 0,t=(s=t)&&s.__esModule?s:{default:s};class a extends t.default{constructor(){super(),this.resource="users",this.model_name="user",this.verbose_name="User",this.verbose_name_plural="Users",this.view_perm="user:view",this.add_perm="user:add",this.change_perm="user:change",this.delete_perm="user:delete",this.configCache({list:!0},36e5)}async me(){const e=await this.http("GET","me",null,!0);return this.toObj(e)}async activate(e,t){return await this.http("POST",e+"/activate",{token:t},!0)}async get_by_email(e){return await this.http("POST","email",{email:e},!0)}toString(e){return`${e.first_name||""} ${e.last_name||""}`}}e.UsersApi=a;var n=new a;e.default=n})?a.apply(t,n):a)||(e.exports=i)},function(e,t,s){var a,n,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,n=[t],void 0===(i="function"==typeof(a=function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.register=function(e,t){globalThis.tikSdkPermissions[e]=t},e.hasPerm=function(e,t,s,a){return e in globalThis.tikSdkPermissions?globalThis.tikSdkPermissions[e](t,s,a):(console.error("permission not found",e),!1)},e.hasRole=function(e,...t){return 1===t.length&&Array.isArray(t[0])&&(t=t[0]),t.some(t=>e.roles.includes(t))},e.ROLES=void 0,globalThis.tikSdkPermissions||(globalThis.tikSdkPermissions={}),e.ROLES={ALL_ROLES:["admin","manager","finance","suivi","commercial","stock"],ACTIVE_ROLES:["admin","manager","finance","suivi","commercial"],TOP_ADMINS:["admin","manager"],SUIVIS:["admin","manager","finance","suivi"],COMMERCIALS:["admin","manager","finance","commercial"],STOCK_TEAM:["admin","manager","stock"],POS_TEAM:["admin","manager","pos"]}})?a.apply(t,n):a)||(e.exports=i)},function(e,t,s){var a,n,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,n=[t,s(1),s(0)],void 0===(i="function"==typeof(a=function(e,t,s){"use strict";var a;Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.SaasApiMixin=void 0,s=(a=s)&&a.__esModule?a:{default:a},globalThis.tikSdkSaasSession||(globalThis.tikSdkSaasSession={authToken:null});const n=e=>class extends e{get base_domain(){return(0,t.saas_base_domain)()}get base_url(){return(0,t.saas_base_url)()}get session(){return globalThis.tikSdkSaasSession}};e.SaasApiMixin=n;class i extends(n(s.default)){}var r=i;e.default=r})?a.apply(t,n):a)||(e.exports=i)},function(e,t,s){var a,n,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,n=[t,s(0)],void 0===(i="function"==typeof(a=function(e,t){"use strict";var s;Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.NewslettersApi=void 0,t=(s=t)&&s.__esModule?s:{default:s};class a extends t.default{constructor(){super(),this.resource="subscriptions"}async subscribe(e,t){console.log("Subscripton",e.email),await this.save({subject:t||{}.NEWSLETTER_DEFAULT_SUBJECT,full_name:e.full_name||"utilisateur",email:e.email})}}e.NewslettersApi=a;var n=new a;e.default=n})?a.apply(t,n):a)||(e.exports=i)},function(e,t,s){var a,n,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,n=[t,s(0),s(12)],void 0===(i="function"==typeof(a=function(e,t,s){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,t=a(t),s=a(s);class n extends t.default{constructor(){super(),this.resource="products",this.model_name="product",this.verbose_name="Product",this.verbose_name_plural="Products",this.view_perm="product:view",this.add_perm="product:add",this.change_perm="product:change",this.delete_perm="product:delete",this.lookup_field="sku",this.configCache({list:!0},15e3)}new(){return{title:"",stock_count:0,sku:"",category_id:null,category_title:"",is_active:!0,saleoffers:[],price_net:0,tax_rate:19,cost_price:0,has_variants:!1,is_shipping_required:!0,is_digital:!1,charge_taxes:!0,charge_shipping:!1}}async addStock(e,t){return"number"==typeof t&&(t={delta:t}),this.http("POST",e.sku+"/stock",t)}async rapport(e){return this.http("GET","rapport",e)}async categories(){return s.default.list()}defaultPrice(e){return parseFloat(e.price_net)*(1+e.tax_rate/100)}offerPrice(e,t,s){return e=parseFloat(e),"%"===s.discount_type&&s.discount_percentage?e=parseFloat(e)*(1-s.discount_percentage/100):"n"===s.discount_type&&s.discount_amount&&(e=parseFloat(e)-parseFloat(s.discount_amount)),e*t}offer(e,t){let s={count_min:0,discount_percentage:0};return e.saleoffers&&(s=e.saleoffers.reduce((e,s)=>s.count_min<=t&&s.count_min>=e.count_min?s:e,s)),s}price(e,t){const s=this.defaultPrice(e),a=this.offer(e,t);return this.offerPrice(s,t,a)}stockColor(e){return e.stock_count<e.stock_alert_limit?"#dd4b39":e.stock_count<e.stock_warning_limit?"#f39c12":"#00a65a"}status(){return[{name:"stock",displayName:"Stock",icon:"fa fa-cubes",backgroundColor:"rgb(137, 255, 88)"},{name:"new",displayName:"Nouveaux",icon:"fa fa-shopping-cart",backgroundColor:"#f6e06c"},{name:"scheduled",displayName:"Réservés",icon:"fa fa-hourglass-half",backgroundColor:"rgb(255, 255, 210)",color:"white"},{name:"inprogress",displayName:"En Cours",icon:"fa fa-truck",backgroundColor:"#337ab7"},{name:"done",displayName:"Délivrés",icon:"fa fa-check",backgroundColor:"#89ff58"},{name:"canceled",displayName:"Annulés",icon:"fa fa-times",backgroundColor:"#ff7b7b"},{name:"paid",displayName:"Payés",icon:"fa fa-money",backgroundColor:"rgb(32, 216, 223)"},{name:"returned",displayName:"Retourne Dépot",icon:"fa fa-cubes",backgroundColor:"#000000",color:"white"},{name:"released",displayName:"Libérés",icon:"fa fa-truck",backgroundColor:"#131654"}]}}var i=new n;e.default=i})?a.apply(t,n):a)||(e.exports=i)},function(e,t,s){var a,n,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,n=[t,s(0),s(1)],void 0===(i="function"==typeof(a=function(e,t,s){"use strict";function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}var n;Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.Organization=e.organizationApi=e.OrganizationApi=void 0,t=(n=t)&&n.__esModule?n:{default:n},s=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var s={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var r=n?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(s,i,r):s[i]=e[i]}return s.default=e,t&&t.set(e,s),s}(s);class i extends t.default{constructor(){super(),this.resource="site"}get base_domain(){return globalThis.tikSdkConfig.API_BASE_URL?(0,s.base_domain)():(0,s.saas_base_domain)()}get base_url(){return globalThis.tikSdkConfig.API_BASE_URL?(0,s.base_url)():(0,s.saas_base_url)()}toObj(e){e.attrs||(e.attrs={}),e.config_attrs||(e.config_attrs={}),e.permissions||(e.permissions=[]),e.payment_providers||(e.payment_providers=[]),delete e.cover_file,delete e.picture_file,delete e.background_image_file;const t={},s={};for(const a of e.domains)t[a.type]=a.domain,s[a.type]=a.origin;t.api||(t.api=t.admin,s.api=s.admin),t.admin||(t.admin=t.api,s.admin=s.api),t.cdn||(t.cdn=t.api,s.cdn=s.api),e.$domains=t,e.$origins=s;const a=new URL(e.$origins.api);return e.http_protocol=(a.protocol||"https:")+"//",e.http_port=a.port?":"+a.port:"",e}async get(e,t){let a;return e||(e=s.default.FETCH_MODE),"API_BASE_URL"===e?a=await this.list():"REFERER"===e?a=await this.http("GET","hostname"):"DOMAIN"===e&&(a=await this.http("GET",t)),this.toObj(a)}async get_by_domain(e){return await this.get("DOMAIN",e)}async get_by_referer(){return await this.get("REFERER")}}e.OrganizationApi=i;const r=new i;e.organizationApi=r;class o{constructor(e){e&&this.apply(e)}async refresh(e,t){const s=await r.get(e,t);s&&this.apply(s)}async refresh_by_api_base_url(){await this.refresh("API_BASE_URL")}async refresh_by_domain(e){await this.refresh("DOMAIN",e)}async refresh_by_referer(){await this.refresh("REFERER")}apply(e){e=r.toObj(e),this.data=e,this.domains=e.$domains,this.origins=e.$origins,this.env(this)}html2txt(e){return e?e.replace(/<[^>]+>/g,""):""}env(e){return e||(e={}),e.hide_website=!(!this.data.hide_website&&!{}.HIDE_WEBSITE),e.modules=(this.data.modules||{}.MODULES||"").split(","),e.installed_apps=(this.data.installed_apps||{}.INSTALLED_APPS||"").split(","),e.delivery_backends=(this.data.delivery_backends||{}.DELIVERY_BACKENDS||"").split(","),e.description=this.data.description||"",e.description_txt=this.data.description_txt||this.html2txt(this.data.description)||"",e.display_name=this.data.display_name||this.data.name,e.short_name=this.data.name,e.cover=this.static(this.data.cover),e.picture=this.static(this.data.picture),e.favicon=this.static(this.data.favicon),e.logo=this.static(this.data.picture),e.background_image=this.static(this.data.background_image),e.email=this.data.email,e.location=this.data.location,e.phone=this.data.phone,e.slug=this.data.slug,e.cache_prefix=this.data.slug,e.summary=this.data.summary,e.about_us=this.data.summary,e.about_us_fr=this.data.summary,e.facebook_url=this.data.facebook_url,e.fb_url=this.data.facebook_url,e.twitter_url=this.data.twitter_url,e.youtube_url=this.data.youtube_url,e.instagram_url=this.data.instagram_url,e.linkedin_url=this.data.linkedin_url,e.wiretransfer=this.data.wiretransfer,e.mandat=this.data.mandat,e.payment_providers=this.data.payment_providers,e.attrs=this.data.attrs,e.config_attrs=this.data.config_attrs,e.permissions=this.data.permissions,e.default_currency=this.data.default_currency,e.tax_rate=this.data.tax_rate,e.tax_stamp=this.data.tax_stamp,e.api_prefix={}.API_PREFIX||"/api/",e.maintenance_mode=this.data.maintenance_mode||{}.MAINTENANCE_MODE,e.maintenance_token=this.data.maintenance_token||{}.MAINTENANCE_TOKEN,e.api_base_url=this.data.$origins.api,this.data.$origins.webapp?e.base_url=this.data.$origins.webapp:e.base_url={}.BASE_URL,e.piwik_site_id=this.data.piwik_site_id||{}.PIWIK_SITE_ID,e.fb_pixel_id=this.data.fb_pixel_id||{}.FB_PIXEL_ID,e.fb_page_id=this.data.fb_page_id||{}.FB_PAGE_ID,e.fb_app_id=this.data.fb_app_id,e.google_analytics_id=this.data.google_analytics_id||{}.GOOGLE_ANALYTICS_ID,e.google_gtag_id=this.data.google_gtag_id||{}.GOOGLE_GTAG_ID,e.locales=({}.LOCALES||"en-US,fr-FR").split(","),e.default_locale=this.data.default_locale,e.newsletter_default_subject="default",e}ENV(e){function t(e){return null==e?"":e}e||(e={});const s=this.env();for(const a of Object.keys(s)){const n=t(s[a]);if(Array.isArray(n))e[a.toUpperCase()]=n.join(",");else if(n&&"object"==typeof n)for(const s of Object.keys(n)){const i=t(n[s]);e[`${a}_${s}`.toUpperCase()]=i}else e[a.toUpperCase()]=n}return e}static(e){return e&&e.startsWith("/")?`${this.data.$origins.cdn}${e}`:e}hasModule(e){return this.modules.includes(e)}hasDeliveryBackend(e){return this.delivery_backends.includes(e)}}e.Organization=o,globalThis.TikSdkOrganization||(globalThis.TikSdkOrganization=new o);var l=globalThis.TikSdkOrganization;e.default=l})?a.apply(t,n):a)||(e.exports=i)},function(t,s){t.exports=e},function(e,t,s){var a,n,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,n=[t,s(8),s(0),s(10),s(11)],void 0===(i="function"==typeof(a=function(e,t,s,a,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return r=function(){return e},e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.AuthApi=void 0,t=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=r();if(t&&t.has(e))return t.get(e);var s={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=a?Object.getOwnPropertyDescriptor(e,n):null;i&&(i.get||i.set)?Object.defineProperty(s,n,i):s[n]=e[n]}return s.default=e,t&&t.set(e,s),s}(t),s=i(s),a=i(a),n=i(n);class o extends s.default{constructor(){super(),this.resource="auth",this.me={},this.ns={me:"me",token:"token",authToken:"authToken"}}async fetchMe(){return await a.default.me()}async user(){const e=await this.http("GET","user",null,!0);return this.toObj(e)}async currentUser(){if(this.me&&this.me.id)return this.me;{let e;if(n.default.has(this.ns.me)&&(e=n.default.get(this.ns.me)),navigator.onLine)try{e=await this.fetchMe()}catch(e){console.error(e)}return e?(n.default.set(this.ns.me,e),this.me=e,t.configureScope(e=>{e.setUser({id:this.me.email})}),this.me):(await this.logout(),null)}}async login(e,t){e=e||void 0;const s=await this.http("POST","login",{email:e,password:t},!0);return!!s.access_token&&(this.session[this.ns.authToken]=s.access_token,n.default.set(this.ns.token,{token:s.access_token}),!0)}async isLoggedin(){const e=n.default.get(this.ns.token);if(e){let t=!0;if(navigator.onLine&&(t=await this.http("POST","token/verify",e,!0),t=t&&"token_not_valid"!==t.code),t)return this.session[this.ns.authToken]=e.token,console.log(this.session),!0}return n.default.del(this.ns.token),!1}async logout(){await this.http("POST","logout",{}),this.me={},this.session[this.ns.authToken]=null,n.default.del(this.ns.token),n.default.del(this.ns.me),t.configureScope(e=>{e.setUser({})})}async emailAuthToken(e){return await this.http("POST","email_token",{email:e},!0)}async passwordRequestReset(e){return await this.http("POST","password/reset",{email:e},!0)}async passwordReset({token:e,uid:t,password:s}){return await this.http("POST","password/reset/confirm",{uid:t,token:e,new_password1:s,new_password2:s})}async confirmEmail(e){return await this.http("POST","register/verify-email",{key:e},!0)}async register(e){return await this.http("POST","register",{...e,password1:e.password,password2:e.password})}async socialaccounts(){return await this.http("GET","socialaccounts")}async socialapps(){return await this.http("GET","socialapps")}async redirectSocialLogin(e){const t=this.get_url(e);globalThis.location.href=t}async socialLogin(e,t){const s=await this.http("POST",""+e,t,!0);return!!s.access_token&&(this.session[this.ns.authToken]=s.access_token,n.default.set(this.ns.token,{token:s.access_token}),!0)}}e.AuthApi=o;var l=new o;e.default=l})?a.apply(t,n):a)||(e.exports=i)},function(e,t,s){var a,n,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,n=[t,s(2)],void 0===(i="function"==typeof(a=function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;class s extends t.UsersApi{constructor(){super(),this.resource="staffs",this.model_name="staff",this.verbose_name="Staff",this.verbose_name_plural="Staffs",this.view_perm="staff:view",this.add_perm="staff:add",this.change_perm="staff:change",this.delete_perm="staff:delete",this.configCache({list:!0},36e5)}new(){return{first_name:"",last_name:"",full_name:"",roles:["commercial"],phone:"",email:"",attrs:{unlimited_access:!1,start_at:"08:00",end_at:"18:00"},is_active:!0,is_staff:!0}}toObj(e){return e&&"user_not_found"!==e.code?(e.roles=["admin","manager","finance","suivi","commercial","stock","freelance"].filter(t=>e.roles.includes(t)),e.attrs||(e.attrs={}),Object.defineProperties(e,{role:{get(){return this.roles[0]}},is_admin:{get(){return this.roles.includes("admin")}},is_freelance:{get(){return this.roles.includes("freelance")}},start_at:{value:"08:00",writable:!1},end_at:{value:"18:00",writable:!1},unlimited_access:{get(){return this.attrs.unlimited_access},set(e){this.attrs.unlimited_access=e}}}),e):null}toString(e){return`${e.first_name||""} ${e.last_name||""}`}async unlimited(){return this.http("GET","unlimited")}roles(){return["admin","manager","finance","suivi","commercial","stock",...{}.MODULES.includes("pos")&&["pos"]||[]]}}var a=new s;e.default=a})?a.apply(t,n):a)||(e.exports=i)},function(e,t,s){var a,n,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,n=[t,s(1)],void 0===(i="function"==typeof(a=function(e,t){"use strict";var s;Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.Cache=void 0,t=(s=t)&&s.__esModule?s:{default:s};class a{has(e){return globalThis.localStorage&&globalThis.localStorage[`${t.default.CACHE_PREFIX}_cache_${e}`]}del(e){globalThis.localStorage&&delete globalThis.localStorage[`${t.default.CACHE_PREFIX}_cache_${e}`]}get(e,s=!0){if(s&&this.has(e))try{return JSON.parse(globalThis.localStorage[`${t.default.CACHE_PREFIX}_cache_${e}`])}catch(e){console.error("[tikSdk]",e)}}set(e,s){if(globalThis.localStorage){const a=`${t.default.CACHE_PREFIX}_cache_${e}`;globalThis.localStorage[a]=JSON.stringify(s)}}async withCache(e,t,s=!1){const a=this.get(e,s);if(a)return a;const n=await t();return this.set(e,n),n}async fallbackCache(e,t,s=!1){let a;if(s)return this.get(e,!0);try{a=await t(),this.set(e,a)}catch(t){if("Forbidden"===t.message)throw t;a=this.get(e,!0)}return a}}e.Cache=a;var n=new a;e.default=n})?a.apply(t,n):a)||(e.exports=i)},function(e,t,s){var a,n,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,n=[t,s(0)],void 0===(i="function"==typeof(a=function(e,t){"use strict";var s;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,t=(s=t)&&s.__esModule?s:{default:s};class a extends t.default{constructor(){super(),this.resource="categories",this.model_name="category",this.verbose_name="Category",this.verbose_name_plural="Categories",this.view_perm="category:view",this.add_perm="category:add",this.change_perm="category:change",this.delete_perm="category:delete",this.configCache({list:!0},216e6)}new(){return{id:"",title:"",thumbnail:void 0,is_active:!0}}}var n=new a;e.default=n})?a.apply(t,n):a)||(e.exports=i)},function(e,t,s){var a,n,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,n=[t,s(0),s(14),s(15),s(6),s(7)],void 0===(i="function"==typeof(a=function(e,t,s,a,n,i){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.CommandsApi=void 0,t=r(t),s=r(s),a=r(a),n=r(n),i=r(i);class o extends t.default{constructor(){super(),this.resource="commands",this.model_name="command",this.verbose_name="Command",this.verbose_name_plural="Commands",this.view_perm="command:view",this.add_perm="command:add",this.change_perm="command:change",this.delete_perm="command:delete",this.configCache({list:!0},6e4)}async new(){return{client_id:null,client_attrs:{full_name:"",phone:"",address:"",country:"TN",state:"",city:"",postal_code:""},type:"delivery",delivery_id:(await s.default.primary()||{}).id,store_id:(await a.default.primary()||{}).id,store_name:(await a.default.primary()||{}).title,commercial_id:null,suivi_id:null,status:"new",customer_note:"",staff_notes:[],items:[{product_id:null,title:"",price:0,count:0}],discount:0,total:0}}toString(e){return e.id?e.id.toString().padStart(8,"0"):""}setClient(e,t){t?(e.client_id=t.id,e.client_attrs.phone=t.phone,e.client_attrs.full_name=t.full_name,e.client_attrs.address=t.address,e.client_attrs.country=t.country,e.client_attrs.state=t.state,e.client_attrs.postal_code=t.postal_code):(e.client_id=null,e.client_attrs={})}itemPrice(e){return e.product_id&&e.product?n.default.price(e.product,e.count):parseFloat(e.price)}addItem(e,t){let s;"object"==typeof t?(s=e.items.find(e=>e.product_id===t.id),s?s.count++:(s={title:t.title,count:1,product_id:t.id,max_count:t.count,product:t},e.items.push(s))):(s={title:"",count:0,price:0,product_id:null,max_count:0},e.items.push(s)),s.price=this.itemPrice(s),e.total=this.price(e)}changeItemProduct(e,t,s){"string"==typeof s?(t.product_id=null,t.product=null,t.title=s,t.max_count=4294967295):(t.product_id=s.id,t.product=s,t.title=s.title,t.max_count=s.count||4294967295),t.price=0,t.count=1,t.price=this.itemPrice(t),e.total=this.price(e)}removeItem(e,t){e.items.splice(e.items.indexOf(t),1),e.total=this.price(e)}price(e){const t=e.items.reduce((e,t)=>this.itemPrice(t)+e,0)-parseFloat(e.discount||0);return Math.round(100*t)/100}totalHT(e){return i.default.tax_rate?(parseFloat(e.total)+parseFloat(e.discount||0))/(1+parseFloat(i.default.tax_rate)/100):parseFloat(e.total)+parseFloat(e.discount||0)}tva(e){return i.default.tax_rate?parseFloat(e.total)/(1+parseFloat(i.default.tax_rate)/100)*(parseFloat(i.default.tax_rate)/100):0}ttc(e){return parseFloat(e.total)+parseFloat(i.default.tax_stamp||0)}async rapport(e){return this.http("GET","rapport",e)}async deliver(e,t=null){return t?this.http("POST",e.id+"/deliver",{command_id:e.id,shipment_id:t}):this.http("POST",e.id+"/deliver")}async track(e){return this.http("POST",e.id+"/track")}async shipment(e){return this.http("GET",e.id+"/deliver")}async assign(e,t){return this.http("POST","assign",{staff_id:e,commands:t.map(e=>e.id)})}async makeNew(e,t){return this.http("POST","new",{staff_id:e,commands:t.map(e=>e.id)})}async cash(e,t){return this.http("POST","cash",{staff_id:e,commands:t.map(e=>e.id)})}async paid(e,t){return this.http("POST","paid",{staff_id:e,commands:t.map(e=>e.id)})}async returned(e,t){return this.http("POST","returned",{staff_id:e,commands:t.map(e=>e.id)})}commandTypes(){return["direct","delivery"]}commandStatus(){return["new","scheduled","inprogress","done","canceled","returned","cash","paid"]}status(){return[{name:"new",displayName:"Nouveaux",icon:"fa fa-shopping-cart",backgroundColor:"#f6e06c",date:"created_at"},{name:"scheduled",displayName:"Réservés",icon:"fa fa-hourglass-half",backgroundColor:"rgb(255, 255, 210)",date:"scheduled_at"},{name:"inprogress",displayName:"En Cours",icon:"fa fa-truck",backgroundColor:"#337ab7",date:"assigned_at"},{name:"done",displayName:"Délivrés",icon:"fa fa-check",backgroundColor:"#89ff58",date:"completed_at"},{name:"canceled",displayName:"Annulés",icon:"fa fa-times",backgroundColor:"#ff7b7b",date:"completed_at"},{name:"cash",displayName:"Encaisés",icon:"fa fa-bank",backgroundColor:"#e6e6e6",date:"cash_at"},{name:"paid",displayName:"Payés",icon:"fa fa-money",backgroundColor:"rgb(32, 216, 223)",date:"paid_at"},{name:"returned",displayName:"Retourne Dépot",icon:"fa fa-cubes",backgroundColor:"#000000",color:"white",date:"paid_at",dark:!0}]}}e.CommandsApi=o;var l=new o;e.default=l})?a.apply(t,n):a)||(e.exports=i)},function(e,t,s){var a,n,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,n=[t,s(0)],void 0===(i="function"==typeof(a=function(e,t){"use strict";var s;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,t=(s=t)&&s.__esModule?s:{default:s};class a extends t.default{constructor(){super(),this.resource="shipment-companies",this.model_name="shipment-company",this.verbose_name="Shipment Company",this.verbose_name_plural="Shipment Companies",this.view_perm="shipment-company:view",this.add_perm="shipment-company:add",this.change_perm="shipment-company:change",this.delete_perm="shipment-company:delete",this.configCache({list:!0},36e5)}new(){return{id:"",type:"aramex",attrs:{},name:"",done:0,canceled:0,phone:"",email:"",address:"",is_active:!0}}async rapport(e){return this.http("GET","rapport",e)}async primary(){return(await this.list()).find(e=>e.is_primary)}toObj(e){return e.attrs||(e.attrs={}),this.updateAttrs(e),e}updateAttrs(e){if(!e.type)return;const t=this.typeAttrs(e.type);for(const s of t)void 0===e.attrs[s.name]&&(e.attrs[s.name]=s.default)}typeAttrs(e){const t=this.types().find(t=>t.ref===e);return t?t.attrs:[]}types(){return[{ref:"aramex",name:"Aramex",color:"rgb(228, 51, 51)",attrs:[{name:"number",type:"text",default:""},{name:"pin",type:"password",default:""},{name:"entity",type:"text",default:"TUN"},{name:"country_code",type:"text",default:"TN"}]},{ref:"fparcel",name:"FParcel",color:"rgb(23, 97, 39)",attrs:[]},{ref:"1delivery",name:"First Delivery",color:"rgb(0, 141, 76)",attrs:[]},{ref:"tnexpress",name:"Tunisia Express",color:"rgb(0, 128, 255)",attrs:[{name:"username",type:"text",default:""},{name:"password",type:"password",default:""},{name:"api_key",type:"text",default:""}]}]}status(){return[{name:"new",displayName:"Nouveaux",icon:"fa fa-hourglass-half",backgroundColor:"rgb(255,255,210)",color:"black"},{name:"created",displayName:"Command Confirmée",icon:"fa fa-shopping-cart",backgroundColor:"rgb(246, 224, 108)",color:"black"},{name:"in_delivery_facility",displayName:"En Depot",icon:"fa fa-bank",backgroundColor:"rgb(212, 137, 69)"},{name:"out_for_delivery",displayName:"En Cours",icon:"fa fa-truck",backgroundColor:"#337ab7"},{name:"returned_delivery_facility",displayName:"Echec",icon:"fa fa-warning",backgroundColor:"rgb(255, 123, 123)"},{name:"canceled",displayName:"Annulé",icon:"fa fa-times",backgroundColor:"rgb(228, 51, 51)"},{name:"delivered",displayName:"Délivré",icon:"fa fa-check",backgroundColor:"rgb(137, 255, 88)"},{name:"returned_shipper",displayName:"Retourne Definitif",icon:"fa fa-cubes",backgroundColor:"black"},{name:"paid",displayName:"Payé",icon:"fa fa-money",backgroundColor:"rgb(32, 216, 223)"}]}}var n=new a;e.default=n})?a.apply(t,n):a)||(e.exports=i)},function(e,t,s){var a,n,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,n=[t,s(0)],void 0===(i="function"==typeof(a=function(e,t){"use strict";var s;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,t=(s=t)&&s.__esModule?s:{default:s};class a extends t.default{constructor(){super(),this.resource="stores",this.model_name="store",this.verbose_name="Store",this.verbose_name_plural="Stores",this.view_perm="store:view",this.add_perm="store:add",this.change_perm="store:change",this.delete_perm="store:delete",this.configCache({list:!0},36e5)}new(){return{id:"",title:"",thumbnail:void 0,phone:"",email:"",address:"",city:"",country:"TN",state:"Sfax",company_name:"",vat_number:"",postal_code:3e3,is_active:!0}}async primary(){return(await this.list()).find(e=>e.is_primary)}}var n=new a;e.default=n})?a.apply(t,n):a)||(e.exports=i)},function(e,t,s){var a,n,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,n=[t,s(0)],void 0===(i="function"==typeof(a=function(e,t){"use strict";var s;Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.EntollsApi=void 0,t=(s=t)&&s.__esModule?s:{default:s};class a extends t.default{constructor(){super(),this.resource="enrolls",this.model_name="enroll",this.verbose_name="Enroll",this.verbose_name_plural="Enrolls",this.view_perm="enroll:view",this.add_perm="enroll:add",this.change_perm="enroll:change",this.delete_perm="enroll:delete",this.configCache({list:!0},36e5)}async registerOrder(e,t,s){return await this.http("POST",e+"/payment",{provider:t,...s})}async orderSuccess(e,t){return await this.http("POST",e+"/success",{order_id:t})}async orderFailure(e,t){return await this.http("POST",e+"/failure",{order_id:t})}new(){return{user_id:null,user:null,course_id:null,course:null,deposit:0,paid:!1,completed_lessons:"",order_id:null,is_active:!0}}toString(e){return e.id?e.id.toString().padStart(8,"0"):""}}e.EntollsApi=a;var n=new a;e.default=n})?a.apply(t,n):a)||(e.exports=i)},function(e,t,s){var a,n,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,n=[t,s(0)],void 0===(i="function"==typeof(a=function(e,t){"use strict";var s;Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.LessonsApi=void 0,t=(s=t)&&s.__esModule?s:{default:s};class a extends t.default{constructor(){super(),this.resource="lessons",this.model_name="lesson",this.verbose_name="Lesson",this.verbose_name_plural="Lessons",this.view_perm="lesson:view",this.add_perm="lesson:add",this.change_perm="lesson:change",this.delete_perm="lesson:delete",this.configCache({list:!0},36e5)}new(){return{resourcetype:null,sku:"",title:"",thumbnail:null,description:"",free:!1,comments:"visible",published:!1,days:1,start_day:0,start_date:null,chapter:null,course:null}}types(){return[{name:"VideoLesson",icon:"video",display_text:"Video Lesson"},{name:"PDFLesson",icon:"file-pdf",display_text:"PDF Lesson"},{name:"RichTextLesson",icon:"align-justify",display_text:"Rich Text"},{name:"EmbedLesson",icon:"code",display_text:"Embed"},{name:"Quiz",icon:"list",display_text:"Quiz"},{name:"DownloadsContent",icon:"file-download",display_text:"Downloads Page"}]}}e.LessonsApi=a;var n=new a;e.default=n})?a.apply(t,n):a)||(e.exports=i)},function(e,t,s){var a,n,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,n=[t,s(2)],void 0===(i="function"==typeof(a=function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.InstructorsApi=void 0;class s extends t.UsersApi{constructor(){super(),this.resource="instructors",this.model_name="instructor",this.verbose_name="Creator",this.verbose_name_plural="Creators",this.view_perm="instructor:view",this.add_perm="instructor:add",this.change_perm="instructor:change",this.delete_perm="instructor:delete",this.configCache({list:!0},36e5)}async featured(){return await this.http("GET","featured")}new(){return{first_name:"",last_name:"",full_name:"",roles:["instructor"],phone:"",email:"",attrs:{unlimited_access:!0,start_at:"08:00",end_at:"18:00",summary:"",is_featured:!1,facebook_url:""},description:"",headline:"",is_active:!0,is_staff:!1}}}e.InstructorsApi=s;var a=new s;e.default=a})?a.apply(t,n):a)||(e.exports=i)},function(e,t,s){var a,n,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,n=[t,s(4),s(2)],void 0===(i="function"==typeof(a=function(e,t,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.UsersApi=void 0;class a extends((0,t.SaasApiMixin)(s.UsersApi)){}e.UsersApi=a;var n=new a;e.default=n})?a.apply(t,n):a)||(e.exports=i)},function(e,t,s){var a,n,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,n=[t,s(21)],void 0===(i="function"==typeof(a=function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(t).forEach((function(s){"default"!==s&&"__esModule"!==s&&Object.defineProperty(e,s,{enumerable:!0,get:function(){return t[s]}})}))})?a.apply(t,n):a)||(e.exports=i)},function(e,t,s){var a,n,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,n=[t,s(1),s(7),s(24),s(25),s(30),s(40),s(45),s(50)],void 0===(i="function"==typeof(a=function(e,t,s,a,n,i,r,o,l){"use strict";function u(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}function d(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var s={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=a?Object.getOwnPropertyDescriptor(e,n):null;i&&(i.get||i.set)?Object.defineProperty(s,n,i):s[n]=e[n]}return s.default=e,t&&t.set(e,s),s}var c;Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"setConfig",{enumerable:!0,get:function(){return t.setConfig}}),Object.defineProperty(e,"setConfigOrganization",{enumerable:!0,get:function(){return t.setConfigOrganization}}),Object.defineProperty(e,"base_url",{enumerable:!0,get:function(){return t.base_url}}),Object.defineProperty(e,"base_domain",{enumerable:!0,get:function(){return t.base_domain}}),Object.defineProperty(e,"saas_base_url",{enumerable:!0,get:function(){return t.saas_base_url}}),Object.defineProperty(e,"saas_base_domain",{enumerable:!0,get:function(){return t.saas_base_domain}}),Object.defineProperty(e,"config",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"organization",{enumerable:!0,get:function(){return s.default}}),e.saas=e.permissions=e.cms=e.lms=e.crm=e.core=void 0,t=d(t),s=(c=s)&&c.__esModule?c:{default:c},a=d(a),e.core=a,n=d(n),e.crm=n,i=d(i),e.lms=i,r=d(r),e.cms=r,o=d(o),e.permissions=o,l=d(l),e.saas=l})?a.apply(t,n):a)||(e.exports=i)},function(e){e.exports=JSON.parse('{"name":"tik-sdk","version":"2020.09.09","main":"index.js","module":"index.js","types":"types/tik-sdk.full.d.ts","exports":{".":"./index.js","./src/":"./src/"},"description":"TIK SDK","license":" GPL-3.0-only","author":{"name":"TIK (Technology Innovation Network)","email":"contact@tik.tn","url":"https://tik.tn"},"homepage":"https://tik.tn","private":true,"scripts":{"test":"jest","build:webpack":"webpack","build:babel":"babel index.js -d lib","lint":"eslint --ext .js,.vue,.ts --ignore-path .gitignore --ignore-pattern **/*.min.js . --ignore-pattern dist/"},"browserslist":["last 2 versions AND last 2 years AND supports es6-module","not IE 11","not IE_Mob 11","not dead"],"dependencies":{"@sentry/browser":"^5.5.0","@sentry/integrations":"^5.5.0","node-fetch":"^2.6.1","querystringify":"^2.1.1"},"devDependencies":{"@babel/cli":"^7.11.6","@babel/core":"^7.11.6","@babel/plugin-transform-modules-umd":"^7.10.4","@babel/preset-env":"^7.11.5","babel-eslint":"^10.0.1","babel-jest":"^26.3.0","babel-loader":"^8.1.0","clean-webpack-plugin":"^3.0.0","dotenv-webpack":"^3.0.0","eslint":"^7.2.0","eslint-config-prettier":"^6.0.0","eslint-config-standard":">=12.0.0","eslint-loader":"^4.0.2","eslint-plugin-import":">=2.16.0","eslint-plugin-jest":">=24.0.0","eslint-plugin-node":">=8.0.1","eslint-plugin-prettier":"^3.0.1","eslint-plugin-promise":">=4.0.1","eslint-plugin-standard":">=4.0.0","husky":"^4.0.1","jest":"^26.4.2","lint-staged":"^10.3.0","nodemon":"^2.0.4","prettier":"^2.0.5","stylelint":"^13.1.0","ts-loader":"^8.0.3","typescript":"^4.0.2","webpack":"^4.44.1","webpack-cli":"^3.3.12"}}')},function(e,t,s){"use strict";var a=Object.prototype.hasOwnProperty;function n(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(e){return null}}function i(e){try{return encodeURIComponent(e)}catch(e){return null}}t.stringify=function(e,t){t=t||"";var s,n,r=[];for(n in"string"!=typeof t&&(t="?"),e)if(a.call(e,n)){if((s=e[n])||null!=s&&!isNaN(s)||(s=""),n=i(n),s=i(s),null===n||null===s)continue;r.push(n+"="+s)}return r.length?t+r.join("&"):""},t.parse=function(e){for(var t,s=/([^=?#&]+)=?([^&]*)/g,a={};t=s.exec(e);){var i=n(t[1]),r=n(t[2]);null===i||null===r||i in a||(a[i]=r)}return a}},function(e,t,s){var a,n,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,n=[t,s(9),s(2)],void 0===(i="function"==typeof(a=function(e,t,s){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"auth",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"users",{enumerable:!0,get:function(){return s.default}}),t=a(t),s=a(s)})?a.apply(t,n):a)||(e.exports=i)},function(e,t,s){var a,n,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,n=[t,s(12),s(26),s(27),s(13),s(28),s(14),s(6),s(10),s(29),s(15)],void 0===(i="function"==typeof(a=function(e,t,s,a,n,i,r,o,l,u,d){"use strict";function c(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"categories",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"clients",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"collections",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"commands",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(e,"orders",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"delivery",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"products",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"staffs",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"stock",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"stores",{enumerable:!0,get:function(){return d.default}}),t=c(t),s=c(s),a=c(a),n=c(n),i=c(i),r=c(r),o=c(o),l=c(l),u=c(u),d=c(d)})?a.apply(t,n):a)||(e.exports=i)},function(e,t,s){var a,n,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,n=[t,s(0)],void 0===(i="function"==typeof(a=function(e,t){"use strict";var s;Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.ClientsApi=void 0,t=(s=t)&&s.__esModule?s:{default:s};class a extends t.default{constructor(){super(),this.resource="clients",this.model_name="client",this.verbose_name="Client",this.verbose_name_plural="Clients",this.view_perm="client:view",this.add_perm="client:add",this.change_perm="client:change",this.delete_perm="client:delete",this.configCache({list:!0},3e5)}new(){return{full_name:"",first_name:"",last_name:"",attrs:{type:"detail",facebook_url:""},phone:"",address:"",country:"TN",state:"Sfax",postal_code:"",email:"",company_name:"",vat_number:""}}toObj(e){return e.attrs||(e.attrs={}),Object.defineProperties(e,{type:{get(){return this.attrs.type},set(e){this.attrs.type=e}}}),e}toString(e){return`${e.first_name||""} ${e.last_name||""}`}async rapport(e){return this.http("GET",e+"/rapport")}async history(e){return this.http("GET",e+"/history")}typeAchat(){return["gros","detail"]}states(){return["Ariana","Beja","Ben Arous","Bizerte","Gabes","Gafsa","Jendouba","Kairouan","Kasserine","Kebili","Kef","Mahdia","Mannouba","Medenine","Monastir","Nabeul","Sfax","Sidi Bouzid","Siliana","Sousse","Tataouine","Tozeur","Tunis","Zaghouan"]}}e.ClientsApi=a;var n=new a;e.default=n})?a.apply(t,n):a)||(e.exports=i)},function(e,t,s){var a,n,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,n=[t,s(6),s(0)],void 0===(i="function"==typeof(a=function(e,t,s){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,t=a(t),s=a(s);class n extends s.default{constructor(){super(),this.resource="collections",this.model_name="collection",this.verbose_name="Collection",this.verbose_name_plural="Collections",this.view_perm="collection:view",this.add_perm="collection:add",this.change_perm="collection:change",this.delete_perm="collection:delete",this.lookup_field="sku",this.configCache({list:!0},36e5)}new(){return{sku:"",title:"",description:"",delivery_id:null,suivi_id:null,items:[{product_id:null,name:"",price:0,count:0}],discount:0,price_net:0,thumbnail:"",is_active:!0}}itemPrice(e){return e.product_id&&e.product?t.default.price(e.product,e.count):parseFloat(e.price)}addItem(e,t){let s;"object"==typeof t?(s=e.items.find(e=>e.product_id===t.id),s?s.count++:(s={title:t.title,count:1,product_id:t.id,max_count:t.count,product:t},e.items.push(s))):(s={title:"",count:0,price:0,product_id:null,max_count:0},e.items.push(s)),s.price=this.itemPrice(s),e.price_net=this.price(e)}changeItemProduct(e,t,s){"string"==typeof s?(t.product_id=null,t.product=null,t.title=s,t.max_count=4294967295):(t.product_id=s.id,t.product=s,t.title=s.title,t.max_count=s.count||4294967295),t.price=0,t.count=1,t.price=this.itemPrice(t),e.price_net=this.price(e)}removeItem(e,t){e.items.splice(e.items.indexOf(t),1),e.price_net=this.price(e)}price(e){const t=e.items.reduce((e,t)=>this.itemPrice(t)+e,0)-parseFloat(e.discount||0);return Math.round(100*t)/100}}var i=new n;e.default=i})?a.apply(t,n):a)||(e.exports=i)},function(e,t,s){var a,n,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,n=[t,s(13)],void 0===(i="function"==typeof(a=function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.OrdersApi=void 0;class s extends t.CommandsApi{constructor(){super(),this.model_name="order",this.verbose_name="Order",this.verbose_name_plural="Orders",this.view_perm="order:view",this.add_perm="order:add",this.change_perm="order:change",this.delete_perm="order:delete"}async registerOrder(e,t,s){return await this.http("POST",e+"/payment",{variant:t,...s})}}e.OrdersApi=s;var a=new s;e.default=a})?a.apply(t,n):a)||(e.exports=i)},function(e,t,s){var a,n,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,n=[t,s(0)],void 0===(i="function"==typeof(a=function(e,t){"use strict";var s;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,t=(s=t)&&s.__esModule?s:{default:s};class a extends t.default{constructor(){super(),this.resource="stock",this.model_name="stock",this.verbose_name="Stock",this.verbose_name_plural="Stock",this.view_perm="stock:view",this.add_perm="stock:add",this.change_perm="stock:change",this.delete_perm="stock:delete",this.configCache({list:!0},6e4)}async report(e,t){return this.http("GET","report",{assigned_at:e,suivi_id:t})}async release(e,t){return this.http("POST","release",{staff_id:e,commands:t.map(e=>e.id)})}toString(e){return e.id?e.id.toString().padStart(8,"0"):""}}var n=new a;e.default=n})?a.apply(t,n):a)||(e.exports=i)},function(e,t,s){var a,n,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,n=[t,s(31),s(32),s(33),s(17),s(34),s(35),s(18),s(36),s(16),s(37),s(38),s(39)],void 0===(i="function"==typeof(a=function(e,t,s,a,n,i,r,o,l,u,d,c,f){"use strict";function p(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"attachments",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"courses",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"chapters",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"lessons",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(e,"quizs",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"categories",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"instructors",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"students",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"enrolls",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"meetings",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(e,"attendees",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(e,"reports",{enumerable:!0,get:function(){return f.default}}),t=p(t),s=p(s),a=p(a),n=p(n),i=p(i),r=p(r),o=p(o),l=p(l),u=p(u),d=p(d),c=p(c),f=p(f)})?a.apply(t,n):a)||(e.exports=i)},function(e,t,s){var a,n,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,n=[t,s(0)],void 0===(i="function"==typeof(a=function(e,t){"use strict";var s;Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.AttachmentsApi=void 0,t=(s=t)&&s.__esModule?s:{default:s};class a extends t.default{constructor(){super(),this.resource="attachments",this.configCache({list:!0},36e5)}}e.AttachmentsApi=a;var n=new a;e.default=n})?a.apply(t,n):a)||(e.exports=i)},function(e,t,s){var a,n,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,n=[t,s(0),s(16),s(17),s(18),s(11)],void 0===(i="function"==typeof(a=function(e,t,s,a,n,i){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.CoursesApi=void 0,t=r(t),s=r(s),a=r(a),n=r(n),i=r(i);class o extends t.default{constructor(){super(),this.resource="courses",this.model_name="course",this.verbose_name="Course",this.verbose_name_plural="Courses",this.view_perm="course:view",this.add_perm="course:add",this.change_perm="course:change",this.delete_perm="course:delete",this.configCache({list:!0},36e5)}new(){return{sku:"",title:"",thumbnail:null,description:"",user_id:null,user:null,video:null,video_url:null,category_id:null,category_title:"",chapters:[],level:"beginner",language:"fr",days:30,published:!1,is_active:!0,saleoffers:[],price_net:0,tax_rate:19}}async getCourse(e,t=!1){return await i.default.fallbackCache("courses_get_"+e,async()=>await this.get(e),t)}async listCourses(e=!1){return await i.default.fallbackCache("courses_list",async()=>await this.list(),e)}async getLesson(e,t=!1){return await i.default.fallbackCache("lessons_get_"+e,async()=>await a.default.get(e),t)}async listEnrolledCourses(){return await this.http("GET","enrolled")}getLessonChapter(e,t){return t.chapters.find(t=>t.lessons.some(t=>t.id===e.id))}setupCourseLessons(e){let t=0;for(const s of e.chapters)for(const a of s.lessons)a.index=t,a.is_open=!0,a.start_at={immediate:0,daily:1,weekly:7,custom:-1}[e.schedule],a.start_at*=a.index,(void 0===a.start_at||a.start_at<0)&&(a.start_at=a.start_date||a.start_day),t++;e.lessons_duration=e.days,e.lessons_days=e.days,e.lessons_count=t}setupCourseSchedule(e,t,s){let a=null;t&&(a=s(t.created_at));const n=s();function i(e){return e.start_date?s(e.start_date):t?a.clone().add(e.start_at,"days"):s(e.start_at)}function r(e){return t?n>e.start_at:!e.start_at}for(const t of e.chapters)for(const e of t.lessons)e.start_at=i(e),e.is_open=r(e);return e}findLessonOnCourse(e,t){for(const s of t.chapters)for(const t of s.lessons)if(t.id===e.id)return t}getLessonsCount(e){let t=0;for(const s of e.chapters)t+=s.lessons.length;return t}getLessonsDuration(e){let t=0;for(const s of e.chapters)for(const e of s.lessons)t+=e.duration||0;return t}getLessonTrainer(e){try{return this.getLessonCourse(e).trainer}catch(e){console.error(e)}}fixEnroll(e){return e&&"string"==typeof e.completed_lessons&&(e.completed_lessons=e.completed_lessons.split(",").map(e=>e.trim()).filter(e=>e)),e}async getCourseEnroll(e,t,a=!1){const n=await i.default.fallbackCache("users_"+t+"_enrolls_"+e,async()=>await s.default.get(e,!0),a);if(n&&n.id)return this.fixEnroll(n)}async getUserEnrolls(){return await s.default.list()}getNextPrevLessons(e,t){let s=null,a=null,n=!1;for(const i of e.chapters){if(a)break;for(const e of i.lessons){if(n){a=e;break}t.id===e.id&&(n=!0),n||(s=e)}}return[s,a]}async markCompleted(e,t){const a=Array.from(t.completed_lessons);return a.includes(e)||a.push(e),t=await s.default.save({id:t.id,course:t.course,completed_lessons:a.join(",")},t.id),this.fixEnroll(t)}async enroll(e){e.id&&(e=e.id);const t=await s.default.save({course:e,completed_lessons:""});return this.fixEnroll(t)}async getInstructor(e,t){return await i.default.fallbackCache("instructors_get_"+e,async()=>await n.default.get(e),t)}status(e){return e&&e.is_active?e.published?{display_text:"Published",color:"success"}:{display_text:"Draft",color:"warning"}:{display_text:"Disabled",color:"secondary"}}}e.CoursesApi=o;var l=new o;e.default=l})?a.apply(t,n):a)||(e.exports=i)},function(e,t,s){var a,n,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,n=[t,s(0)],void 0===(i="function"==typeof(a=function(e,t){"use strict";var s;Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.ChaptersApi=void 0,t=(s=t)&&s.__esModule?s:{default:s};class a extends t.default{constructor(){super(),this.resource="chapters",this.configCache({list:!0},36e5)}}e.ChaptersApi=a;var n=new a;e.default=n})?a.apply(t,n):a)||(e.exports=i)},function(e,t,s){var a,n,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,n=[t,s(0)],void 0===(i="function"==typeof(a=function(e,t){"use strict";var s;Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.QuizsApi=void 0,t=(s=t)&&s.__esModule?s:{default:s};class a extends t.default{constructor(){super(),this.resource="quizs",this.configCache({list:!0},36e5)}}e.QuizsApi=a;var n=new a;e.default=n})?a.apply(t,n):a)||(e.exports=i)},function(e,t,s){var a,n,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,n=[t,s(0)],void 0===(i="function"==typeof(a=function(e,t){"use strict";var s;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,t=(s=t)&&s.__esModule?s:{default:s};class a extends t.default{constructor(){super(),this.resource="course-categories",this.model_name="course-category",this.verbose_name="Course Category",this.verbose_name_plural="Course Categories",this.view_perm="course-category:view",this.add_perm="course-category:add",this.change_perm="course-category:change",this.delete_perm="course-category:delete",this.configCache({list:!0},216e6)}new(){return{id:"",title:"",thumbnail:void 0,is_active:!0}}}var n=new a;e.default=n})?a.apply(t,n):a)||(e.exports=i)},function(e,t,s){var a,n,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,n=[t,s(2)],void 0===(i="function"==typeof(a=function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.StudentsApi=void 0;class s extends t.UsersApi{constructor(){super(),this.resource="students",this.model_name="student",this.verbose_name="Learner",this.verbose_name_plural="Learners",this.view_perm="student:view",this.add_perm="student:add",this.change_perm="student:change",this.delete_perm="student:delete",this.configCache({list:!0},36e5)}new(){return{first_name:"",last_name:"",full_name:"",roles:["student"],phone:"",email:"",attrs:{unlimited_access:!1,start_at:"08:00",end_at:"18:00",summary:"",facebook_url:""},description:"",headline:"",is_active:!0,is_staff:!1}}}e.StudentsApi=s;var a=new s;e.default=a})?a.apply(t,n):a)||(e.exports=i)},function(e,t,s){var a,n,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,n=[t,s(0)],void 0===(i="function"==typeof(a=function(e,t){"use strict";var s;Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.MeetingsApi=void 0,t=(s=t)&&s.__esModule?s:{default:s};class a extends t.default{constructor(){super(),this.resource="meetings",this.model_name="meeting",this.verbose_name="Meeting",this.verbose_name_plural="Meetings",this.view_perm="meeting:view",this.add_perm="meeting:add",this.change_perm="meeting:change",this.delete_perm="meeting:delete",this.configCache({list:!0},36e5)}new(){return{sku:"",title:"",thumbnail:null,description:"",user_id:null,user:null,webinar:{id:null,sku:"",title:"",thumbnail:null,description:"",recorded:null,max_participants:null,hard_duration:null},duration:null,start_at:null,guest_allowed:!1,registration_open:!1,published:!1,is_active:!0,saleoffers:[],price_net:0,tax_rate:19}}async join(e,t){return(await this.http("POST",e+"/join",{username:t})).url}status(e){return e&&e.is_active?e.published?{display_text:"Published",color:"success"}:{display_text:"Draft",color:"warning"}:{display_text:"Disabled",color:"secondary"}}}e.MeetingsApi=a;var n=new a;e.default=n})?a.apply(t,n):a)||(e.exports=i)},function(e,t,s){var a,n,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,n=[t,s(0)],void 0===(i="function"==typeof(a=function(e,t){"use strict";var s;Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.AttendeesApi=void 0,t=(s=t)&&s.__esModule?s:{default:s};class a extends t.default{constructor(){super(),this.resource="attendees",this.configCache({list:!0},36e5)}async registerOrder(e,t,s){return await this.http("POST",e+"/payment",{provider:t,...s})}async orderSuccess(e,t){return await this.http("POST",e+"/success",{order_id:t})}async orderFailure(e,t){return await this.http("POST",e+"/failure",{order_id:t})}}e.AttendeesApi=a;var n=new a;e.default=n})?a.apply(t,n):a)||(e.exports=i)},function(e,t,s){var a,n,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,n=[t,s(0)],void 0===(i="function"==typeof(a=function(e,t){"use strict";var s;Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.ReportsApi=void 0,t=(s=t)&&s.__esModule?s:{default:s};class a extends t.default{constructor(){super(),this.resource="reports"}async course(e){return await this.http("GET","courses/"+e)}}e.ReportsApi=a;var n=new a;e.default=n})?a.apply(t,n):a)||(e.exports=i)},function(e,t,s){var a,n,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,n=[t,s(41),s(42),s(43),s(5),s(44)],void 0===(i="function"==typeof(a=function(e,t,s,a,n,i){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"forms",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"pages",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"posts",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"newsletters",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(e,"notify",{enumerable:!0,get:function(){return i.default}}),t=r(t),s=r(s),a=r(a),n=r(n),i=r(i)})?a.apply(t,n):a)||(e.exports=i)},function(e,t,s){var a,n,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,n=[t,s(0),s(5)],void 0===(i="function"==typeof(a=function(e,t,s){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.FormsApi=void 0,t=a(t),s=a(s);class n extends t.default{constructor(){super(),this.resource="forms",this.configCache({list:!0},36e5)}name(e){return"name"in e?e.name:"full_name"in e?e.full_name:"first_name"in e?`${e.first_name} ${e.last_name||""}`:"fname"in e?`${e.fname} ${e.lname||""}`:""}async submit(e,t){if(!e)return void console.log("Ignore form...");let a;console.log("Submit form..."),e.status="inprogress";try{a=await this.http("POST",t+"/submit",e,!0),e.status="success",e.email&&await s.default.subscribe({email:e.email,full_name:this.name(e)})}catch(t){throw e.status="failure",t}}}e.FormsApi=n;var i=new n;e.default=i})?a.apply(t,n):a)||(e.exports=i)},function(e,t,s){var a,n,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,n=[t,s(0),s(5)],void 0===(i="function"==typeof(a=function(e,t,s){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.PagesApi=void 0,t=a(t),s=a(s);class n extends t.default{constructor(){super(),this.resource="pages",this.configCache({list:!0},36e5)}}e.PagesApi=n;var i=new n;e.default=i})?a.apply(t,n):a)||(e.exports=i)},function(e,t,s){var a,n,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,n=[t,s(0)],void 0===(i="function"==typeof(a=function(e,t){"use strict";var s;Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.PostsApi=void 0,t=(s=t)&&s.__esModule?s:{default:s};class a extends t.default{constructor(){super(),this.resource="posts",this.configCache({list:!0},36e5)}}e.PostsApi=a;var n=new a;e.default=n})?a.apply(t,n):a)||(e.exports=i)},function(e,t,s){var a,n,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,n=[t,s(5)],void 0===(i="function"==typeof(a=function(e,t){"use strict";var s;Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.NotifyApi=void 0,t=(s=t)&&s.__esModule?s:{default:s};const a=["email","status","fname","lname","first_name","name","full_name","last_name","phone","target","message"];class n{message(e){let t="";const s=Object.keys(e).filter(e=>!a.includes(e));for(const a of s){const s=a.replace(/[_-]+/," ").toLowerCase(),n=e[a];n&&n.toString().trim(),t+=`${s}: ${n}\n`}return"message"in e&&(t+=`\nmessage:\n${e.message}\n`),t}name(e){return"name"in e?e.name:"full_name"in e?e.full_name:"first_name"in e?`${e.first_name} ${e.last_name||""}`:"fname"in e?`${e.fname} ${e.lname||""}`:""}async save(e){if(e&&e.email)return console.log("Submit form..."),e.status="inprogress",fetch("https://api.admin.tik.website/feedbacks/notify",{method:"POST",redirect:"manual",credentials:"omit",refer:"",body:JSON.stringify({target:e.target||"New Submit - "+{}.DISPLAY_NAME,subject:"",name:this.name(e),phone:e.phone||"",from:e.email,to:{}.EMAIL,message:this.message(e)}),headers:{"Content-Type":"application/json"}}).then(async s=>{if(!s.ok)throw new Error("error");e.status="success",await t.default.subscribe({email:e.email,full_name:this.name(e)})}).catch(t=>{throw e.status="failure",new Error("error")});console.log("Ignore form...")}}e.NotifyApi=n;var i=new n;e.default=i})?a.apply(t,n):a)||(e.exports=i)},function(e,t,s){var a,n,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,n=[t,s(3),s(46),s(47),s(48),s(49)],void 0===(i="function"==typeof(a=function(e,t,s,a,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"hasPerm",{enumerable:!0,get:function(){return t.hasPerm}}),Object.defineProperty(e,"hasRole",{enumerable:!0,get:function(){return t.hasRole}})})?a.apply(t,n):a)||(e.exports=i)},function(e,t,s){var a,n,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,n=[s(3)],void 0===(i="function"==typeof(a=function(e){"use strict";(0,e.register)("client:view",(t,s,a)=>(0,e.hasRole)(s,["admin","manager","finance"])),(0,e.register)("client:add",(t,s,a)=>(0,e.hasRole)(s,["admin","manager","finance","commercial"])),(0,e.register)("client:change",(t,s,a)=>(0,e.hasRole)(s,["admin","manager","finance","commercial"])),(0,e.register)("client:delete",(t,s,a)=>(0,e.hasRole)(s,["admin","manager"])&&a&&a.id),(0,e.register)("staff:view",(t,s,a)=>(0,e.hasRole)(s,["admin","manager","finance"])),(0,e.register)("staff:add",(t,s,a)=>(0,e.hasRole)(s,["admin","manager"])),(0,e.register)("staff:change",(t,s,a)=>(0,e.hasRole)(s,["admin","manager"])),(0,e.register)("staff:delete",(e,t,s)=>!1),(0,e.register)("product:view",(e,t,s)=>!0),(0,e.register)("product:add",(t,s,a)=>(0,e.hasRole)(s,["admin","manager"])),(0,e.register)("product:change",(t,s,a)=>(0,e.hasRole)(s,["admin","manager"])),(0,e.register)("product:delete",(e,t,s)=>!1),(0,e.register)("product:add-quantity",(t,s,a)=>(0,e.hasRole)(s,["admin","manager"])&&a&&a.id),(0,e.register)("collection:view",(e,t,s)=>e.hasModule("collections")),(0,e.register)("collection:add",(t,s,a)=>t.hasModule("collections")&&(0,e.hasRole)(s,["admin","manager"])),(0,e.register)("collection:change",(t,s,a)=>t.hasModule("collections")&&(0,e.hasRole)(s,["admin","manager"])),(0,e.register)("collection:delete",(e,t,s)=>!1),(0,e.register)("store:view",(t,s,a)=>(0,e.hasRole)(s,["admin","manager"])),(0,e.register)("store:add",(t,s,a)=>(0,e.hasRole)(s,["admin","manager"])),(0,e.register)("store:change",(t,s,a)=>(0,e.hasRole)(s,["admin","manager"])),(0,e.register)("store:delete",(e,t,s)=>!1),(0,e.register)("shipment-company:view",(t,s,a)=>(0,e.hasRole)(s,["admin","manager"])),(0,e.register)("shipment-company:add",(t,s,a)=>(0,e.hasRole)(s,["admin","manager"])),(0,e.register)("shipment-company:change",(t,s,a)=>(0,e.hasRole)(s,["admin","manager"])),(0,e.register)("shipment-company:delete",(e,t,s)=>!1)})?a.apply(t,n):a)||(e.exports=i)},function(e,t,s){var a,n,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,n=[s(3)],void 0===(i="function"==typeof(a=function(e){"use strict";(0,e.register)("student:view",(t,s,a)=>(0,e.hasRole)(s,["admin","manager","finance"])),(0,e.register)("student:add",(t,s,a)=>(0,e.hasRole)(s,["admin","manager","finance","commercial"])),(0,e.register)("student:change",(t,s,a)=>(0,e.hasRole)(s,["admin","manager","finance","commercial"])),(0,e.register)("student:delete",(t,s,a)=>(0,e.hasRole)(s,["admin","manager"])&&a&&a.id),(0,e.register)("instructor:view",(t,s,a)=>(0,e.hasRole)(s,["admin","manager","finance"])),(0,e.register)("instructor:add",(t,s,a)=>(0,e.hasRole)(s,["admin","manager"])),(0,e.register)("instructor:change",(t,s,a)=>(0,e.hasRole)(s,["admin","manager"])),(0,e.register)("instructor:delete",(e,t,s)=>!1),(0,e.register)("enroll:view",(t,s,a)=>(0,e.hasRole)(s,["admin","manager","finance","instructor"])),(0,e.register)("enroll:add",(t,s,a)=>(0,e.hasRole)(s,["admin","manager"])),(0,e.register)("enroll:change",(t,s,a)=>(0,e.hasRole)(s,["admin","manager"])),(0,e.register)("enroll:delete",(e,t,s)=>!1),(0,e.register)("course:view",(t,s,a)=>(0,e.hasRole)(s,["admin","manager","instructor"])),(0,e.register)("course:add",(t,s,a)=>(0,e.hasRole)(s,["admin","manager","instructor"])),(0,e.register)("course:change",(t,s,a)=>(0,e.hasRole)(s,["admin","manager","instructor"])),(0,e.register)("course:delete",(e,t,s)=>!1),(0,e.register)("lesson:view",(t,s,a)=>(0,e.hasRole)(s,["admin","manager","instructor"])),(0,e.register)("lesson:add",(t,s,a)=>(0,e.hasRole)(s,["admin","manager","instructor"])),(0,e.register)("lesson:change",(t,s,a)=>(0,e.hasRole)(s,["admin","manager","instructor"])),(0,e.register)("lesson:delete",(e,t,s)=>!1),(0,e.register)("meeting:view",(t,s,a)=>(0,e.hasRole)(s,["admin","manager","instructor"])),(0,e.register)("meeting:add",(t,s,a)=>(0,e.hasRole)(s,["admin","manager","instructor"])),(0,e.register)("meeting:change",(t,s,a)=>(0,e.hasRole)(s,["admin","manager","instructor"])),(0,e.register)("meeting:change-webinar",(t,s,a)=>(0,e.hasRole)(s,["admin","manager"])),(0,e.register)("meeting:delete",(e,t,s)=>!1)})?a.apply(t,n):a)||(e.exports=i)},function(e,t,s){var a,n,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,n=[s(3)],void 0===(i="function"==typeof(a=function(e){"use strict";(0,e.register)("dashboard:view-tags",(t,s,a)=>(0,e.hasRole)(s,["admin","manager","stock"])),(0,e.register)("dashboard:edit-tags",(t,s,a)=>(0,e.hasRole)(s,["admin","manager","stock","finance","suivi"])),(0,e.register)("dashboard:view",(t,s,a)=>t.hasModule("commands")&&(0,e.hasRole)(s,["admin","manager","finance","suivi","stock","freelance"])),(0,e.register)("dashboard:filter",(t,s,a)=>(0,e.hasRole)(s,["admin","manager","finance"])),(0,e.register)("dashboard:change",(t,s,a)=>(0,e.hasRole)(s,["admin","manager","finance"])),(0,e.register)("dashboard:view-products-chart",(t,s,a)=>(0,e.hasRole)(s,["admin","manager","finance","stock"])),(0,e.register)("dashboard:filter-stock-suivi",(t,s,a)=>(0,e.hasRole)(s,["admin","manager"]))})?a.apply(t,n):a)||(e.exports=i)},function(e,t,s){var a,n,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,n=[s(3)],void 0===(i="function"==typeof(a=function(e){"use strict";(0,e.register)("command:view",(t,s,a)=>(0,e.hasRole)(s,["admin","manager","finance"])),(0,e.register)("command:add",(t,s,a)=>(0,e.hasRole)(s,["admin","manager","finance","commercial"])),(0,e.register)("command:change",(e,t,s)=>!1),(0,e.register)("command:delete",(t,s,a)=>(0,e.hasRole)(s,["admin","manager"])&&a&&a.id),(0,e.register)("command:assign",(t,s,a)=>(0,e.hasRole)(s,["admin","suivi","manager","finance"])&&(!a||["scheduled","new"].includes(a.status))),(0,e.register)("command:mark-new",(t,s,a)=>(0,e.hasRole)(s,["admin","manager","finance","commercial"])&&(!a||"scheduled"===a.status)),(0,e.register)("command:mark-done",(t,s,a)=>(0,e.hasRole)(s,["admin","manager","finance","suivi"])&&(!a||"inprogress"===a.status)),(0,e.register)("command:mark-canceled",(t,s,a)=>(0,e.hasRole)(s,["admin","manager","finance","suivi"])&&(!a||"inprogress"===a.status)),(0,e.register)("command:mark-returned",(t,s,a)=>(0,e.hasRole)(s,["admin","manager","finance","suivi","stock"])&&(!a||["canceled","inprogress"].includes(a.status))),(0,e.register)("command:mark-cash",(t,s,a)=>(0,e.hasRole)(s,["admin","manager","finance"])&&(!a||["done","inprogress"].includes(a.status))),(0,e.register)("command:mark-paid",(t,s,a)=>(0,e.hasRole)(s,["admin","manager","finance"])&&(!a||["cash","inprogress"].includes(a.status))),(0,e.register)("command:print-quote",(t,s,a)=>(0,e.hasRole)(s,["admin","manager","finance","stock","suivi"])&&(!a||a.id&&["inprogress","done","canceled"].includes(a.status))),(0,e.register)("command:print-aramex-label",(t,s,a)=>(0,e.hasRole)(s,["admin","manager","finance","stock"])&&t.hasDeliveryBackend("aramex")&&["aramex"].includes(a.delivery_type)&&["inprogress","done","cash","paid"].includes(a.status)),(0,e.register)("command:print-fparcel-label",(t,s,a)=>(0,e.hasRole)(s,["admin","manager","finance","stock"])&&t.hasDeliveryBackend("fparcel")&&["fparcel"].includes(a.delivery_type)&&["inprogress","done","cash","paid"].includes(a.status)),(0,e.register)("command:export-fparcel",(t,s,a)=>(0,e.hasRole)(s,["admin","manager","finance","stock"])&&t.hasDeliveryBackend("fparcel")&&(!a||["fparcel"].includes(a.delivery_type)&&["inprogress"].includes(a.status))),(0,e.register)("command:export",(t,s,a)=>(0,e.hasRole)(s,["admin","manager","finance","stock"])&&t.hasModule("export")&&(!a||["inprogress"].includes(a.status))),(0,e.register)("command:view-history",(t,s,a)=>a.id&&(0,e.hasRole)(s,["admin","manager","finance"])),(0,e.register)("command:turnback-inprogress",(t,s,a)=>a&&"delivery"===a.type&&["done","canceled"].includes(a.status)&&(0,e.hasRole)(s,["admin","manager"])),(0,e.register)("command:view-shipment",(t,s,a)=>(0,e.hasRole)(s,["admin","suivi","manager","finance"])&&t.hasDeliveryBackend(a.delivery_type)&&["inprogress","done","cash","paid","returned"].includes(a.status)),(0,e.register)("command:create-shipment",(t,s,a)=>(0,e.hasRole)(s,["admin","suivi","manager","finance"])&&t.hasDeliveryBackend(a.delivery_type)&&["new"].includes(a.status)),(0,e.register)("command:assign-shipment",(t,s,a)=>(0,e.hasRole)(s,["admin","manager","finance"])&&t.hasDeliveryBackend(a.delivery_type)&&["aramex"].includes(a.delivery_id)&&!a.shipment&&["inprogress"].includes(a.status)),(0,e.register)("command:mass-assign-shipment",(t,s,a)=>(0,e.hasRole)(s,["admin","manager","finance"])),(0,e.register)("command:track-shipment",(t,s,a)=>(0,e.hasRole)(s,["admin","manager","finance"])&&t.hasDeliveryBackend(a.delivery_type)&&a.shipment&&a.shipment.shipment_id&&["inprogress","done","cash"].includes(a.status)),(0,e.register)("command:view-cash",(t,s,a)=>(0,e.hasRole)(s,["admin"])&&"done"===a.status),(0,e.register)("command:view-paid",(t,s,a)=>(0,e.hasRole)(s,["admin"])&&["cash","paid"].includes(a.status)),(0,e.register)("command:view-returned",(t,s,a)=>(0,e.hasRole)(s,["admin"])&&["canceled","returned"].includes(a.status)),(0,e.register)("command:mark-released",(t,s,a)=>(0,e.hasRole)(s,["admin","manager","stock"])),(0,e.register)("command:invoice",(t,s,a)=>["inprogress","done","cash","paid"].includes(a.status)&&(0,e.hasRole)(s,["admin","manager","finance"])),(0,e.register)("command:print-invoice",(t,s,a)=>["inprogress","done","cash","paid"].includes(a.status)&&(0,e.hasRole)(s,["admin","manager","finance"]))})?a.apply(t,n):a)||(e.exports=i)},function(e,t,s){var a,n,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,n=[t,s(51),s(19),s(52),s(53),s(54)],void 0===(i="function"==typeof(a=function(e,t,s,a,n,i){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"auth",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"users",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"organizations",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"subscriptions",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(e,"offers",{enumerable:!0,get:function(){return i.default}}),t=r(t),s=r(s),a=r(a),n=r(n),i=r(i)})?a.apply(t,n):a)||(e.exports=i)},function(e,t,s){var a,n,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,n=[t,s(4),s(9),s(19)],void 0===(i="function"==typeof(a=function(e,t,s,a){"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.AuthApi=void 0,a=(n=a)&&n.__esModule?n:{default:n};class i extends((0,t.SaasApiMixin)(s.AuthApi)){constructor(){super(),this.ns={me:"me",token:"token",authToken:"authToken"}}async fetchMe(){return await a.default.me()}}e.AuthApi=i;var r=new i;e.default=r})?a.apply(t,n):a)||(e.exports=i)},function(e,t,s){var a,n,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,n=[t,s(4)],void 0===(i="function"==typeof(a=function(e,t){"use strict";var s;Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.OrganizationsApi=void 0,t=(s=t)&&s.__esModule?s:{default:s};class a extends t.default{constructor(){super(),this.resource="organizations",this.configCache({list:!0},36e5)}toObj(e){return e.attrs||(e.attrs={}),e.payment_providers||(e.payment_providers=[]),e._phone=e.phone,delete e.cover_file,delete e.picture_file,e}async subscribe(e,t){return await this.http("POST",e+"/subscribe",{plan_id:t})}}e.OrganizationsApi=a;var n=new a;e.default=n})?a.apply(t,n):a)||(e.exports=i)},function(e,t,s){var a,n,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,n=[t,s(4)],void 0===(i="function"==typeof(a=function(e,t){"use strict";var s;Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.SubscriptionsApi=void 0,t=(s=t)&&s.__esModule?s:{default:s};class a extends t.default{constructor(){super(),this.resource="organizations/subscriptions"}async registerOrder(e,t,s){return await this.http("POST",e+"/payment",{provider:t,...s})}async orderSuccess(e,t){return await this.http("POST",e+"/success",{order_id:t})}async orderFailure(e,t){return await this.http("POST",e+"/failure",{order_id:t})}}e.SubscriptionsApi=a;var n=new a;e.default=n})?a.apply(t,n):a)||(e.exports=i)},function(e,t,s){var a,n,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,n=[t,s(4)],void 0===(i="function"==typeof(a=function(e,t){"use strict";var s;Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.OffersApi=void 0,t=(s=t)&&s.__esModule?s:{default:s};class a extends t.default{constructor(){super(),this.resource="offers",this.configCache({list:!0},36e5)}}e.OffersApi=a;var n=new a;e.default=n})?a.apply(t,n):a)||(e.exports=i)}])}));
//# sourceMappingURL=tik-sdk.full.js.map