{"version":3,"sources":["webpack://tikSDK.[name]/webpack/universalModuleDefinition","webpack://tikSDK.[name]/webpack/bootstrap","webpack://tikSDK.[name]/./src/core/base.js","webpack://tikSDK.[name]/./src/cms/newsletters.js","webpack://tikSDK.[name]/./src/cms/forms.js","webpack://tikSDK.[name]/external {\"commonjs\":\"@sentry/browser\",\"commonjs2\":\"@sentry/browser\",\"amd\":\"@sentry/browser\",\"root\":\"Sentry\"}","webpack://tikSDK.[name]/./node_modules/querystringify/index.js","webpack://tikSDK.[name]/./src/config.js","webpack://tikSDK.[name]/./src/cms/pages.js","webpack://tikSDK.[name]/./src/cms/posts.js","webpack://tikSDK.[name]/./src/cms/notify.js"],"names":["root","factory","exports","module","require","define","amd","this","__WEBPACK_EXTERNAL_MODULE__4__","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","globalThis","tikSdkSession","authToken","instructorAuthToken","constructor","resource","model_name","verbose_name","verbose_name_plural","view_perm","add_perm","change_perm","delete_perm","lookup_field","useCache","list","validateCache","base_domain","base_url","get_url","path","configCache","cache","timeout","_cacheTimeout","clearInterval","cacheTimeout","setInterval","method","json","allow404","req","headers","url","qs","stringify","values","some","v","File","Blob","data","FormData","k","entries","Date","toISOString","Array","isArray","JSON","toString","append","undefined","extendedTracing","console","log","session","Authorization","fetch","body","redirect","referrer","ok","includes","status","error","Error","statusText","response","e","Sentry","captureException","toObj","obj","title","http","id","el","new","forceCreate","partial_update","instance","NewslettersApi","BaseApi","super","subscription","newsletter","email","save","subject","process","NEWSLETTER_DEFAULT_SUBJECT","full_name","FormsApi","form","first_name","last_name","fname","lname","res","newslettersApi","subscribe","has","decode","input","decodeURIComponent","replace","encode","encodeURIComponent","prefix","pairs","isNaN","push","length","join","parse","query","part","parser","result","exec","tikSdkConfig","$org","setConfig","API_BASE_URL","api_base_url","API_PREFIX","api_prefix","CACHE_PREFIX","cache_prefix","saas_base_domain","DEFAULT_CONFIG","FETCH_MODE","SAAS_API_BASE_URL","VERSION","version","PROTOCOL","keys","PagesApi","PostsApi","FORM_SPECIAL_KEYS","NotifyApi","message","filter","k_n","toLowerCase","trim","credentials","refer","target","DISPLAY_NAME","phone","from","to","EMAIL","then","async","catch","_"],"mappings":"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","file":"tik-sdk.cms.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"@sentry/browser\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"@sentry/browser\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"cms\"] = factory(require(\"@sentry/browser\"));\n\telse\n\t\troot[\"tikSDK\"] = root[\"tikSDK\"] || {}, root[\"tikSDK\"][\"cms\"] = factory(root[\"Sentry\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE__4__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n","import * as Sentry from '@sentry/browser'\nimport qs from 'querystringify'\nimport { base_url, base_domain } from '../config.js'\n\nif (!globalThis.tikSdkSession) {\n  globalThis.tikSdkSession = {\n    authToken: null,\n    instructorAuthToken: null,\n  }\n}\n\nclass BaseApi {\n  constructor() {\n    this.resource = null\n    this.model_name = ''\n    this.verbose_name = ''\n    this.verbose_name_plural = ''\n    this.view_perm = ''\n    this.add_perm = ''\n    this.change_perm = ''\n    this.delete_perm = ''\n    this.lookup_field = 'id'\n\n    this.useCache = {\n      list: false,\n      get: false,\n    }\n    this.validateCache = true\n  }\n\n  get base_domain() {\n    return base_domain()\n  }\n\n  get base_url() {\n    return base_url()\n  }\n\n  get session() {\n    return globalThis.tikSdkSession\n  }\n\n  get_url(path) {\n    if (path) {\n      path = `${this.resource}/${path}`\n    } else {\n      path = `${this.resource}`\n    }\n    return `${this.base_url}${path}/`\n  }\n\n  configCache(cache, timeout) {\n    this.useCache = cache\n    if (this._cacheTimeout) {\n      clearInterval(this._cacheTimeout)\n    }\n    if (timeout) {\n      this.cacheTimeout = timeout\n      this._cacheTimeout = setInterval(() => {\n        this.validateCache = true\n      }, this.cacheTimeout)\n    }\n  }\n\n  async http(method, path, json, allow404 = false) {\n    let headers = {}\n    let url = this.get_url(path)\n    let req\n    if (json && method === 'GET') {\n      url += qs.stringify(json, true)\n      json = null\n    } else if (json) {\n      if (\n        Object.values(json).some((v) => v instanceof File || v instanceof Blob)\n      ) {\n        const data = new FormData()\n        // eslint-disable-next-line prefer-const\n        for (let [k, v] of Object.entries(json)) {\n          if (v === null || v === undefined) {\n            v = ''\n          } else if (v instanceof Date) {\n            v = v.toISOString()\n          } else if (Array.isArray(v)) {\n            v = JSON.stringify(v)\n          } else if (v instanceof File || v instanceof Blob) {\n            // pass : v = v\n            // DO NOT DELETE, next conditions depend on it\n          } else if (v instanceof Object) {\n            v = JSON.stringify(v)\n          } else if (typeof v === 'boolean') {\n            v = v ? 'True' : 'False'\n          } else {\n            v = v.toString()\n          }\n          data.append(k, v)\n        }\n        json = data\n      } else {\n        json = JSON.stringify(json)\n        headers = {\n          'Content-Type': 'application/json; charset=utf-8',\n        }\n      }\n    } else {\n      json = undefined\n    }\n    if (globalThis.extendedTracing) {\n      console.log('HTTP', method, url, json || '')\n    } else {\n      console.log(method, path, json || '')\n    }\n    try {\n      if (this.session.authToken) {\n        headers.Authorization = 'Bearer ' + this.session.authToken\n      }\n      req = await globalThis.fetch(url, {\n        method,\n        headers,\n        body: json,\n        mode: 'cors',\n        // credentials: 'include',\n        cache: 'no-cache',\n        redirect: 'follow',\n        referrer: 'no-referrer',\n      })\n      if (!req.ok && !(allow404 && [404, 401].includes(req.status))) {\n        const error = new Error(req.statusText || req.status)\n        error.response = req\n        throw error\n      }\n      if (method !== 'DELETE') {\n        return await req.json()\n      }\n    } catch (e) {\n      console.error(\n        'HTTP Error:',\n        url.toString(),\n        JSON.stringify(json),\n        req && req.status\n      )\n      if (typeof Sentry === 'object' && 'captureException' in Sentry) {\n        Sentry.captureException(e)\n      }\n      throw e\n    }\n  }\n\n  toObj(o) {\n    return o\n  }\n\n  toString(obj) {\n    if (obj.title) {\n      return obj.title\n    } else if (obj.name) {\n      return obj.name\n    } else {\n      return ''\n    }\n  }\n\n  async list() {\n    if (this.useCache.list && !this.validateCache && this.data) {\n      console.log(`[HTTP] ${this.resource}.list(): using cache`)\n    } else {\n      const d = await this.http('GET', '')\n      this.data = d\n      this.validateCache = false\n    }\n    return this.data\n  }\n\n  async get(id, allow404 = false) {\n    if (id) {\n      const el = await this.http(\n        'GET',\n        id,\n        /* json= */ null,\n        /* allow404= */ allow404\n      )\n      return this.toObj(el)\n    } else {\n      return this.new()\n    }\n    /*\n    // const el = this.data.filter((el) => el[this.lookup_field] === id);\n    if (el.length === 1) {\n      return el[0];\n    } else {\n      console.log(\"GET NEW\");\n      return this.new();\n    }\n    */\n  }\n\n  async save(\n    el,\n    id,\n    forceCreate = false,\n    partial_update = false,\n    allow404 = false\n  ) {\n    this.validateCache = true\n    if ((el[this.lookup_field] || id) && !forceCreate) {\n      const instance = await this.http(\n        partial_update ? 'PATCH' : 'PUT',\n        id || el[this.lookup_field],\n        el,\n        allow404\n      )\n      return this.toObj(instance)\n      /*\n      const instance = this.get(el[this.lookup_field]);\n      if (instance) {\n        const old = Object.assign({}, instance);\n        Object.assign(instance, el);\n        if (this.preUpdate) {\n          await this.preUpdate(old, instance);\n        }\n        if (this.postUpdate) {\n          await this.postUpdate(old, instance);\n        }\n      }\n      */\n    } else {\n      const instance = await this.http('POST', '', el, allow404)\n      return instance\n      /*\n      const nextId = Math.max(...this.data.map((c) => c[this.lookup_field])) + 1;\n      el[this.lookup_field] = nextId;\n      if (this.preCreate) {\n        await this.preCreate(el);\n      }\n      this.data.push(el);\n      if (this.postCreate) {\n        await this.postCreate(el);\n      }\n      */\n    }\n  }\n\n  new() {\n    return null\n  }\n\n  async delete(id) {\n    this.validateCache = true\n    return this.http('DELETE', id)\n  }\n}\n\nexport default BaseApi\n","import BaseApi from '../core/base'\n\nexport class NewslettersApi extends BaseApi {\n  constructor() {\n    super()\n    this.resource = 'subscriptions'\n  }\n\n  async subscribe(subscription, newsletter) {\n    console.log('Subscripton', subscription.email)\n    await this.save({\n      subject: newsletter || process.env.NEWSLETTER_DEFAULT_SUBJECT,\n      full_name: subscription.full_name || 'utilisateur',\n      email: subscription.email,\n    })\n  }\n}\n\nconst newslettersApi = new NewslettersApi()\nexport default newslettersApi\n","import BaseApi from '../core/base.js'\nimport newslettersApi from './newsletters'\n\nexport class FormsApi extends BaseApi {\n  constructor() {\n    super()\n    this.resource = 'forms'\n    this.configCache({ list: true }, 60 * 60 * 1000)\n  }\n\n  name(form) {\n    if ('name' in form) {\n      return form.name\n    } else if ('full_name' in form) {\n      return form.full_name\n    } else if ('first_name' in form) {\n      return `${form.first_name} ${form.last_name || ''}`\n    } else if ('fname' in form) {\n      return `${form.fname} ${form.lname || ''}`\n    } else {\n      return ''\n    }\n  }\n\n  async submit(form, id) {\n    if (!form) {\n      console.log('Ignore form...')\n      return\n    }\n    console.log('Submit form...')\n    form.status = 'inprogress'\n    let res\n    try {\n      res = await this.http('POST', `${id}/submit`, form, true)\n      form.status = 'success'\n      if (form.email) {\n        await newslettersApi.subscribe({\n          email: form.email,\n          full_name: this.name(form),\n        })\n      }\n    } catch (e) {\n      form.status = 'failure'\n      throw e\n    }\n  }\n}\n\nconst api = new FormsApi()\n\nexport default api\n","module.exports = __WEBPACK_EXTERNAL_MODULE__4__;","'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , undef;\n\n/**\n * Decode a URI encoded string.\n *\n * @param {String} input The URI encoded string.\n * @returns {String|Null} The decoded string.\n * @api private\n */\nfunction decode(input) {\n  try {\n    return decodeURIComponent(input.replace(/\\+/g, ' '));\n  } catch (e) {\n    return null;\n  }\n}\n\n/**\n * Attempts to encode a given input.\n *\n * @param {String} input The string that needs to be encoded.\n * @returns {String|Null} The encoded string.\n * @api private\n */\nfunction encode(input) {\n  try {\n    return encodeURIComponent(input);\n  } catch (e) {\n    return null;\n  }\n}\n\n/**\n * Simple query string parser.\n *\n * @param {String} query The query string that needs to be parsed.\n * @returns {Object}\n * @api public\n */\nfunction querystring(query) {\n  var parser = /([^=?#&]+)=?([^&]*)/g\n    , result = {}\n    , part;\n\n  while (part = parser.exec(query)) {\n    var key = decode(part[1])\n      , value = decode(part[2]);\n\n    //\n    // Prevent overriding of existing properties. This ensures that build-in\n    // methods like `toString` or __proto__ are not overriden by malicious\n    // querystrings.\n    //\n    // In the case if failed decoding, we want to omit the key/value pairs\n    // from the result.\n    //\n    if (key === null || value === null || key in result) continue;\n    result[key] = value;\n  }\n\n  return result;\n}\n\n/**\n * Transform a query string to an object.\n *\n * @param {Object} obj Object that should be transformed.\n * @param {String} prefix Optional prefix.\n * @returns {String}\n * @api public\n */\nfunction querystringify(obj, prefix) {\n  prefix = prefix || '';\n\n  var pairs = []\n    , value\n    , key;\n\n  //\n  // Optionally prefix with a '?' if needed\n  //\n  if ('string' !== typeof prefix) prefix = '?';\n\n  for (key in obj) {\n    if (has.call(obj, key)) {\n      value = obj[key];\n\n      //\n      // Edge cases where we actually want to encode the value to an empty\n      // string instead of the stringified value.\n      //\n      if (!value && (value === null || value === undef || isNaN(value))) {\n        value = '';\n      }\n\n      key = encode(key);\n      value = encode(value);\n\n      //\n      // If we failed to encode the strings, we should bail out as we don't\n      // want to add invalid strings to the query.\n      //\n      if (key === null || value === null) continue;\n      pairs.push(key +'='+ value);\n    }\n  }\n\n  return pairs.length ? prefix + pairs.join('&') : '';\n}\n\n//\n// Expose the module.\n//\nexports.stringify = querystringify;\nexports.parse = querystring;\n","import { version } from '../package.json'\n\nconst DEFAULT_CONFIG = {\n  // env: 'production',\n  FETCH_MODE: 'API_BASE_URL', // 'REFERER', 'DOMAIN',\n  API_BASE_URL: '',\n  SAAS_API_BASE_URL: '',\n  API_PREFIX: '/api/',\n  CACHE_PREFIX: '',\n  VERSION: version,\n  PROTOCOL: 'https',\n  // LANG: 'fr',\n}\n\nif (!globalThis.tikSdkConfig) {\n  globalThis.tikSdkConfig = {}\n}\n\n;(function setDefaultConfig() {\n  for (const k of Object.keys(DEFAULT_CONFIG)) {\n    if (!(k in globalThis.tikSdkConfig)) {\n      globalThis.tikSdkConfig[k] = DEFAULT_CONFIG[k]\n    }\n  }\n})()\n\nexport function setConfigValue(k, v) {\n  globalThis.tikSdkConfig[k] = v\n}\n\nexport function setConfig(c) {\n  for (const k of Object.keys(DEFAULT_CONFIG)) {\n    if (k in c) {\n      globalThis.tikSdkConfig[k] = c[k]\n    }\n  }\n}\n\nexport function setConfigOrganization($org) {\n  setConfig({\n    API_BASE_URL: $org.api_base_url,\n    API_PREFIX: $org.api_prefix,\n    CACHE_PREFIX: $org.cache_prefix,\n  })\n}\n\nexport function base_domain() {\n  return globalThis.tikSdkConfig.API_BASE_URL\n}\n\nexport function base_url() {\n  return base_domain() + globalThis.tikSdkConfig.API_PREFIX\n}\n\nexport function saas_base_domain() {\n  return globalThis.tikSdkConfig.SAAS_API_BASE_URL\n}\n\nexport function saas_base_url() {\n  return saas_base_domain() + globalThis.tikSdkConfig.API_PREFIX\n}\n\nexport default globalThis.tikSdkConfig\n","import BaseApi from '../core/base.js'\nimport newslettersApi from './newsletters'\n\nexport class PagesApi extends BaseApi {\n  constructor() {\n    super()\n    this.resource = 'pages'\n    this.configCache({ list: true }, 60 * 60 * 1000)\n  }\n}\n\nconst api = new PagesApi()\n\nexport default api\n","import BaseApi from '../core/base.js'\n\nexport class PostsApi extends BaseApi {\n  constructor() {\n    super()\n    this.resource = 'posts'\n    this.configCache({ list: true }, 60 * 60 * 1000)\n  }\n}\n\nconst api = new PostsApi()\n\nexport default api\n","import newslettersApi from './newsletters'\n\nconst FORM_SPECIAL_KEYS = [\n  'email',\n  'status',\n  'fname',\n  'lname',\n  'first_name',\n  'name',\n  'full_name',\n  'last_name',\n  'phone',\n  'target',\n  'message',\n]\n\nexport class NotifyApi {\n  message(form) {\n    let r = ''\n    const keys = Object.keys(form).filter((k) => !FORM_SPECIAL_KEYS.includes(k))\n    for (const k of keys) {\n      const k_n = k.replace(/[_-]+/, ' ').toLowerCase()\n      const v = form[k]\n      if (v) {\n        v.toString().trim()\n      }\n      r += `${k_n}: ${v}\\n`\n    }\n    if ('message' in form) {\n      r += `\\nmessage:\\n${form.message}\\n`\n    }\n    return r\n  }\n\n  name(form) {\n    if ('name' in form) {\n      return form.name\n    } else if ('full_name' in form) {\n      return form.full_name\n    } else if ('first_name' in form) {\n      return `${form.first_name} ${form.last_name || ''}`\n    } else if ('fname' in form) {\n      return `${form.fname} ${form.lname || ''}`\n    } else {\n      return ''\n    }\n  }\n\n  async save(form) {\n    if (!form || !form.email) {\n      console.log('Ignore form...')\n      return\n    }\n    console.log('Submit form...')\n    form.status = 'inprogress'\n    return fetch('https://api.admin.tik.website/feedbacks/notify', {\n      method: 'POST',\n      redirect: 'manual',\n      credentials: 'omit',\n      refer: '',\n      body: JSON.stringify({\n        target: form.target || `New Submit - ${process.env.DISPLAY_NAME}`,\n        subject: '',\n        name: this.name(form),\n        phone: form.phone || '',\n        from: form.email,\n        to: process.env.EMAIL,\n        message: this.message(form),\n      }),\n      headers: {\n        'Content-Type': 'application/json',\n      },\n    })\n      .then(async (res) => {\n        if (!res.ok) {\n          throw new Error('error')\n        }\n        form.status = 'success'\n        await newslettersApi.subscribe({\n          email: form.email,\n          full_name: this.name(form),\n        })\n      })\n      .catch((_) => {\n        form.status = 'failure'\n        throw new Error('error')\n      })\n  }\n}\n\nconst api = new NotifyApi()\nexport default api\n"],"sourceRoot":""}